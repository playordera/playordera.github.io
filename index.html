<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no">
<title>ORDERA — Daily Chronology Puzzle</title>
<link href="https://fonts.googleapis.com/css2?family=Staatliches&family=PT+Serif:wght@400;700&display=swap" rel="stylesheet">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link id="favicon" rel="icon" href="logo-square.png">

<!-- Open Graph / Apple / Twitter share meta -->
<meta property="og:title" content="ORDERA — Daily Chronology Puzzle">
<meta property="og:description" content="Test your sense of history and order — can you solve today’s chronology puzzle?">
<meta property="og:image" content="logo-square.png">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="ORDERA — Daily Chronology Puzzle">
<meta name="twitter:description" content="Test your sense of history and order — can you solve today’s chronology puzzle?">
<meta name="twitter:image" content="logo-square.png">
<link rel="apple-touch-icon" href="logo-square.png">

<style>
:root{
  --fg:#0b1020; --muted:#23314f;
  --green:#22b34b; --greenSoft:#22b34b22;
  --cat1:#7b61ff; --cat2:#a78bfa; --catSolid:#dcdfff;
  --maxw: 760px; --radius: 16px; --tileH: 88px;
  --fontBase: 19px; --fontTile: 22px; --fontLogo: 92px; --fontCat: 20px;
}
@media (min-width: 820px){ :root{ --fontBase: 20px; --fontTile: 24px; --fontLogo: 104px; --fontCat: 22px; --tileH: 96px; }}
*{box-sizing:border-box; user-select:none; -webkit-user-select:none;}
html,body{height:100%}
html, body { width:100%; max-width:100%; overflow-x:hidden; }
body{
  margin:0; color:var(--fg); font-size: var(--fontBase);
  font-family: "Staatliches", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: var(--catSolid); letter-spacing:.02em;
  overscroll-behavior-x: contain;
}

/* LOGO styling */
.logo{
  font-family: 'Staatliches', sans-serif;
  font-size: var(--fontLogo);
  text-align:center;
  margin: 24px 0;
  color: var(--fg);
  letter-spacing:0.08em;
}

/* Category pill with solid background */
.cat-pill{ display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:999px; background:var(--cat1); color:#ffffff; font-weight:900; text-transform:uppercase; letter-spacing:.12em; font-size:var(--fontCat); white-space:nowrap; border:1px solid rgba(255,255,255,.28); font-family:'PT Serif', Georgia, serif; }

/* Subcategory much bigger */
.banner .subcat{font-family: 'PT Serif', Georgia, serif; font-weight:700; font-size: clamp(28px, 4vw, 40px); letter-spacing:.02em}

/* Tile animation */
.tile{ transition: transform .25s ease, background .25s ease, box-shadow .25s ease; }
.tile.swapFlash{ box-shadow: 0 0 0 3px var(--green) inset !important; background: var(--greenSoft); }
.tile.dragging{ background: var(--greenSoft); }

/* Big X shake when no new info */
.bigX{ position:fixed; inset:0; display:grid; place-items:center; z-index:9999; pointer-events:none; }
.bigX .symbol{ font-size: 0; width: 160px; height:160px; border-radius:28px; background: rgba(220,0,0,.9); color:#fff; display:grid; place-items:center; box-shadow:0 12px 40px rgba(220,0,0,.45); animation: pop .12s ease-out, shake .35s ease-in-out 2; }
.bigX .symbol::after{ content:"✖"; font-size: 120px; line-height:1; filter: drop-shadow(0 6px 12px rgba(0,0,0,.35)); }
@keyframes pop{ from{ transform: scale(.8); opacity:.3 } to{ transform: scale(1); opacity:1 } }
@keyframes shake{ 0%,100%{ transform: translateX(0)} 20%{ transform: translateX(-8px)} 40%{ transform: translateX(8px)} 60%{ transform: translateX(-6px)} 80%{ transform: translateX(6px)} }
</style>
</head>
<body>

<div class="logo">ORDERA</div>

<header class="app-header">
  <div class="cat-pill">History</div>
  <div class="banner"><div class="subcat">Famous Inventions</div></div>
</header>

<main id="game">
  <ul id="tiles" class="tile-list"></ul>
  <div id="controls">
    <button onclick="submit()">Submit</button>
    <button onclick="onShare()">Share</button>
  </div>
  <div id="attempts">Attempts: <span>0</span></div>
</main>

<section id="solution" style="display:none;">
  <h2>Solution</h2>
  <ul id="solutionList"></ul>
</section>

<script>
const state={puzzle:{correct:[],items:[]},order:[],attempts:[],locked:false,lockedMap:{},used:0,solved:false};
const els={attempts:document.querySelector('#attempts span'),tiles:document.getElementById('tiles'),solution:document.getElementById('solution'),solutionList:document.getElementById('solutionList')};

function renderList(){
  els.tiles.innerHTML='';
  state.order.forEach((i,idx)=>{
    const li=document.createElement('li');
    li.className='tile';
    li.textContent=state.puzzle.items[i].t;
    els.tiles.appendChild(li);
  });
}

function renderFeedback(){
  // stub: highlight correct/incorrect later
}

function end(){
  els.solution.style.display='block';
  els.solutionList.innerHTML=state.puzzle.correct.map(x=>`<li>${x.t}</li>`).join('');
}

function showBigX(){ const wrap=document.createElement('div'); wrap.className='bigX'; wrap.innerHTML='<div class="symbol"></div>'; document.body.appendChild(wrap); setTimeout(()=>{ wrap.remove(); }, 650); }

function submit(){
  if(state.locked) return;
  const correct=state.puzzle.correct;
  const itemsByPos=state.order.map(i=>state.puzzle.items[i]);
  const row=itemsByPos.map((it,i)=>{ const good = it.t===correct[i].t; if(good){ state.lockedMap[i]=state.order[i]; } return good; });
  state.attempts.push(row);
  state.used++;
  els.attempts.textContent=state.used;
  renderList();
  renderFeedback();
  const newInfo = row.some((val,i)=> val && !state.attempts.slice(0,-1).some(prev=>prev[i]));
  if(row.every(Boolean)){
    state.solved=true; end();
  } else if(state.used>=6){
    end();
  } else if(!newInfo){
    showBigX();
  }
}

function shareText(){
  return `ORDERA Puzzle — Attempts: ${state.used}`;
}

function onShare(){
  const txt = shareText();
  if(navigator.share){
    navigator.share({text:txt, url:window.location.href, title:"ORDERA"}).catch(()=>{});
  } else {
    if(navigator.clipboard){ navigator.clipboard.writeText(txt).then(()=>alert("Copied to clipboard")); } else { alert(txt); }
  }
}

// Sample puzzle load
state.pu
